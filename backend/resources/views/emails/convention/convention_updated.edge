<!DOCTYPE html>
<html lang="fr">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>
      Convention modifi√©e - {{ appName }}
    </title>
    <style>
      body {
        font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Oxygen', 'Ubuntu', 'Cantarell', sans-serif;
        line-height: 1.6;
        color: #333333;
        max-width: 600px;
        margin: 0 auto;
        padding: 20px;
        background-color: #f5f5f5;
      }

      .container {
        background-color: #ffffff;
        border-radius: 8px;
        padding: 30px;
        box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
      }

      .header {
        text-align: center;
        margin-bottom: 30px;
        padding-bottom: 20px;
        border-bottom: 2px solid #e0e0e0;
      }

      .logo {
        width: 150px;
        height: auto;
        margin-bottom: 20px;
      }

      h1 {
        color: #f59e0b;
        font-size: 24px;
        margin: 0;
      }

      .content {
        margin: 30px 0;
      }

      .message {
        background-color: #fffbeb;
        border-left: 4px solid #f59e0b;
        padding: 15px;
        margin: 20px 0;
        border-radius: 4px;
      }

      .info-box {
        background-color: #f9fafb;
        padding: 20px;
        border-radius: 6px;
        margin: 20px 0;
      }

      .info-box h3 {
        margin-top: 0;
        color: #4b5563;
      }

      .info-box p {
        margin: 10px 0;
      }

      .convention-info {
        background: linear-gradient(135deg, #f59e0b 0%, #d97706 100%);
        color: white;
        padding: 25px;
        border-radius: 8px;
        margin: 25px 0;
        text-align: center;
      }

      .convention-info h2 {
        margin: 0 0 15px 0;
        font-size: 28px;
        font-weight: bold;
      }

      .convention-info p {
        margin: 8px 0;
        font-size: 16px;
      }

      .changes-section {
        background-color: #fef3c7;
        border-left: 4px solid #f59e0b;
        padding: 20px;
        margin: 20px 0;
        border-radius: 4px;
      }

      .changes-section h3 {
        margin-top: 0;
        color: #92400e;
      }

      .change-item {
        margin: 15px 0;
        padding: 10px;
        background-color: #fffbeb;
        border-radius: 4px;
      }

      .change-item strong {
        color: #78350f;
      }

      .date-change {
        display: flex;
        align-items: center;
        gap: 10px;
        margin: 10px 0;
      }

      .old-value {
        text-decoration: line-through;
        color: #dc2626;
      }

      .new-value {
        color: #059669;
        font-weight: bold;
      }

      .products-section {
        margin: 25px 0;
      }

      .products-section h3 {
        color: #4b5563;
        margin-bottom: 15px;
      }

      .products-table {
        width: 100%;
        border-collapse: collapse;
        margin-top: 15px;
      }

      .products-table th {
        background-color: #f3f4f6;
        padding: 12px;
        text-align: left;
        font-weight: bold;
        color: #374151;
        border-bottom: 2px solid #e5e7eb;
      }

      .products-table td {
        padding: 12px;
        border-bottom: 1px solid #e5e7eb;
      }

      .products-table tr:last-child td {
        border-bottom: none;
      }

      .products-table tr:hover {
        background-color: #f9fafb;
      }

      .partner-section {
        background-color: #eff6ff;
        border-left: 4px solid #3b82f6;
        padding: 15px;
        margin: 20px 0;
        border-radius: 4px;
      }

      .partner-section h3 {
        margin-top: 0;
        color: #1e40af;
      }

      .button {
        display: inline-block;
        background-color: #3b82f6;
        color: white;
        padding: 12px 30px;
        text-decoration: none;
        border-radius: 6px;
        margin: 20px 0;
        font-weight: bold;
      }

      .footer {
        margin-top: 40px;
        padding-top: 20px;
        border-top: 1px solid #e0e0e0;
        text-align: center;
        color: #6b7280;
        font-size: 14px;
      }

      .contact-info {
        margin: 15px 0;
      }

      .highlight {
        background-color: #dbeafe;
        border-left: 4px solid #3b82f6;
        padding: 15px;
        margin: 20px 0;
        border-radius: 4px;
      }

      ul {
        margin: 15px 0;
        padding-left: 25px;
      }

      ul li {
        margin: 8px 0;
      }

      @media only screen and (max-width: 600px) {
        body {
          padding: 10px;
        }

        .container {
          padding: 20px;
        }

        h1 {
          font-size: 20px;
        }

        .convention-info h2 {
          font-size: 22px;
        }

        .products-table {
          font-size: 14px;
        }

        .products-table th,
        .products-table td {
          padding: 8px;
        }
      }
    </style>
  </head>
  <body>
    <div class="container">
      <div class="header">
        <h1>
          ‚úèÔ∏è Convention modifi√©e : {{ conventionCode }}
        </h1>
      </div>

      <div class="content">
        <p>
          Bonjour <strong>{{ userName }}</strong>,
        </p>

        <div class="message">
          <p>
            La convention <strong>{{ conventionCode }}</strong> a √©t√© modifi√©e sur la plateforme {{ appName }}. Veuillez consulter les changements ci-dessous.
          </p>
        </div>

        <div class="convention-info">
          <h2>üìÑ {{ conventionCode }}</h2>
          <p>
            <strong>Date de signature :</strong> {{ signatureDate }}
          </p>
        </div>

        @if(changes.signatureDateChanged || changes.productsChanged)
          <div class="changes-section">
            <h3>
              üîÑ Modifications apport√©es
            </h3>

            @if(changes.signatureDateChanged)
              <div class="change-item">
                <strong>üìÖ Date de signature modifi√©e :</strong>
                <div class="date-change">
                  <span class="old-value">{{ changes.oldSignatureDate }}</span>
                  <span>‚Üí</span>
                  <span class="new-value">{{ changes.newSignatureDate }}</span>
                </div>
              </div>
            @end

            @if(changes.productsChanged)
              <div class="change-item">
                <strong>üì¶ Produits modifi√©s</strong>
                <p style="margin: 5px 0; color: #78350f;">
                  La liste des produits a √©t√© mise √† jour. Veuillez consulter le tableau ci-dessous pour voir les produits actuels.
                </p>
              </div>
            @end
          </div>
        @end

        <div class="products-section">
          <h3>
            üì¶ Produits actuels
          </h3>
          <table class="products-table">
            <thead>
              <tr>
                <th>Code</th>
                <th>Nom</th>
                <th>Qualit√©</th>
                <th>Standard</th>
                <th>Poids (kg)</th>
                <th>Sacs</th>
                <th>Prix/kg</th>
                <th>Humidit√© (%)</th>
              </tr>
            </thead>
            <tbody>
              @each(product in products)
                <tr>
                  <td>{{ product.code }}</td>
                  <td>{{ product.name }}</td>
                  <td>{{ product.quality }}</td>
                  <td>{{ product.standard }}</td>
                  <td>{{ product.weight }}</td>
                  <td>{{ product.bags }}</td>
                  <td>{{ product.pricePerKg }}</td>
                  <td>{{ product.humidity }}</td>
                </tr>
              @end
            </tbody>
          </table>
        </div>

        <div class="partner-section">
          <h3>
            ü§ù Partenaire
          </h3>
          <p>
            <strong>Nom :</strong> {{ partnerName }}
          </p>
          <p>
            <strong>Type :</strong> {{ partnerType }}
          </p>
        </div>

        <div class="highlight">
          <h3 style="margin-top: 0;">
            üìã Actions recommand√©es
          </h3>
          <ul>
            <li>
              Consulter les d√©tails de la convention et v√©rifier toutes les modifications
            </li>
            <li>
              V√©rifier la nouvelle liste des produits et les informations associ√©es
            </li>
            <li>
              Ajuster vos op√©rations commerciales selon les nouveaux termes
            </li>
            <li>
              Contacter le support en cas de questions ou de clarifications n√©cessaires
            </li>
          </ul>
        </div>

        <p>
          Ces modifications ont √©t√© apport√©es pour garantir la conformit√© et l'exactitude de la convention. Nous vous invitons √† en prendre connaissance dans les plus brefs d√©lais.
        </p>

        <div style="text-align: center;">
          <a href="{{ appUrl }}/conventions/{{ conventionCode }}" class="button">Consulter la convention</a>
        </div>

        <div class="info-box">
          <h3>
            ‚ÑπÔ∏è Informations importantes
          </h3>
          <p>
            <strong>Convention modifi√©e par :</strong> {{ updatedBy }}
          </p>
          <p style="margin-top: 15px; font-size: 14px; color: #6b7280;">
            Toute l'√©quipe {{ appName }} reste √† votre disposition pour vous accompagner.
          </p>
        </div>

        <div class="contact-info">
          <p>
            Pour toute question ou assistance, contactez-nous :
          </p>
          <p>
            <strong>Email :</strong> <a href="mailto:{{ supportEmail }}">{{ supportEmail }}</a>
          </p>
          @if(supportPhone)

          <p>
            <strong>T√©l√©phone :</strong> {{ supportPhone }}
          </p>

          @end
        </div>
      </div>

      <div class="footer">
        <p>
          &copy; {{ year }} {{ appName }}. Tous droits r√©serv√©s.
        </p>
        <p style="font-size: 12px; color: #9ca3af; margin-top: 10px;">
          Cet email a √©t√© envoy√© automatiquement. Merci de ne pas y r√©pondre directement.
        </p>
      </div>
    </div>
  </body>
</html>
