<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="UTF-8"/>
<meta name="viewport" content="width=device-width, initial-scale=1.0"/>
<title>Transaction annul√©e - {{ appName }}</title>
<style>
body{font-family:-apple-system,BlinkMacSystemFont,'Segoe UI','Roboto',sans-serif;line-height:1.6;color:#333;max-width:600px;margin:0 auto;padding:20px;background-color:#f5f5f5}
.container{background-color:#fff;border-radius:8px;padding:30px;box-shadow:0 2px 4px rgba(0,0,0,0.1)}
.header{text-align:center;margin-bottom:30px;padding-bottom:20px;border-bottom:2px solid#e0e0e0}
h1{color:#EF4444;font-size:24px;margin:0}
.message{background-color:#FEE2E2;border-left:4px solid#EF4444;padding:15px;margin:20px 0;border-radius:4px}
.info-box{background-color:#f9fafb;border:1px solid#e5e7eb;padding:15px;margin:20px 0;border-radius:4px}
.info-row{display:flex;margin:10px 0}
.info-label{font-weight:bold;min-width:180px;color:#6b7280}
.info-value{color:#111827}
.products-table{width:100%;border-collapse:collapse;margin:15px 0}
.products-table th{background-color:#f3f4f6;padding:10px;text-align:left;font-weight:bold;color:#374151;border-bottom:2px solid#e5e7eb}
.products-table td{padding:10px;border-bottom:1px solid#e5e7eb}
.products-table tr:last-child td{border-bottom:none}
.total-amount{background-color:#f9fafb;padding:15px;margin:20px 0;border-radius:4px;text-align:right;font-size:18px;font-weight:bold;color:#111827}
.alert-box{background-color:#FEF3C7;border-left:4px solid#F59E0B;padding:15px;margin:20px 0;border-radius:4px}
.button{display:inline-block;background-color:#F59E0B;color:white;padding:12px 30px;text-decoration:none;border-radius:6px;margin:20px 0;font-weight:bold}
.footer{margin-top:40px;padding-top:20px;border-top:1px solid#e0e0e0;text-align:center;color:#6b7280;font-size:14px}
.reason-box{background-color:#FEE2E2;border:1px solid#FCA5A5;padding:15px;margin:20px 0;border-radius:4px}
</style>
</head>
<body>
<div class="container">
<div class="header"><h1>‚ùå Transaction annul√©e</h1></div>
<div class="content">
<p>Bonjour <strong>{{ userName }}</strong>,</p>
<div class="message">
<p>Votre transaction de <strong>vente</strong> avec <strong>{{ counterpartName }}</strong> a √©t√© annul√©e.</p>
</div>
@if(cancellationReason)
<div class="reason-box">
<h3 style="margin-top:0;color:#EF4444">üìù Raison de l'annulation</h3>
<p>{{ cancellationReason }}</p>
</div>
@end
<div class="info-box">
<h3 style="margin-top:0;color:#EF4444">üìã D√©tails de la transaction annul√©e</h3>
<div class="info-row"><span class="info-label">Code:</span><span class="info-value">{{ transactionCode }}</span></div>
<div class="info-row"><span class="info-label">Date:</span><span class="info-value">{{ transactionDate }}</span></div>
<div class="info-row"><span class="info-label">Acheteur:</span><span class="info-value">{{ counterpartName }}</span></div>
<div class="info-row"><span class="info-label">Lieu:</span><span class="info-value">{{ locationName || locationType }}</span></div>
<div class="info-row"><span class="info-label">Campagne:</span><span class="info-value">{{ campaignCode }}</span></div>
</div>
<div class="info-box">
<h3 style="margin-top:0;color:#EF4444">üì¶ Produits</h3>
<table class="products-table">
<thead><tr><th>Type</th><th>Qualit√©</th><th>Poids (kg)</th><th>Sacs</th><th>Prix unitaire</th><th>Total</th></tr></thead>
<tbody>
@each(product in products)
<tr>
<td>{{ product.productType }}</td>
<td>{{ product.quality }}</td>
<td style="text-align:right">{{ product.weight }}</td>
<td style="text-align:right">{{ product.numberOfBags }}</td>
<td style="text-align:right">{{ product.unitPrice }} FCFA</td>
<td style="text-align:right">{{ product.totalPrice }} FCFA</td>
</tr>
@end
</tbody>
</table>
</div>
<div class="total-amount">Montant total annul√©: {{ totalAmount }} FCFA</div>
@if(!hasComplementaryTransaction)
<div class="alert-box">
<h3 style="margin-top:0;color:#F59E0B">üí° Suggestion</h3>
<p>Si vous souhaitez toujours enregistrer cette transaction, vous pouvez cr√©er une nouvelle d√©claration de vente.</p>
<div style="text-align:center">
<a href="{{ appUrl }}" class="button">Cr√©er une nouvelle transaction</a>
</div>
</div>
@end
<div class="footer">
<p>&copy; {{ year }} {{ appName }}. Tous droits r√©serv√©s.</p>
</div>
</div>
</div>
</body>
</html>
